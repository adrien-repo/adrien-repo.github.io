<!doctype html>
<html lang="en" >
<head>
<link rel='shortcut icon' href='/icon.png' type='image/x-icon'/ >
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>News</title>
<meta name="mobile-web-app-capable" content="yes">

<style>
a:link {    text-decoration: none; color: black;}
a:visited {    text-decoration: none;color: black;}
a:hover {    text-decoration: underline;}
a:active {    text-decoration: underline;}
</style>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">
    function toggle_visibility(id) {

	   var e = document.getElementById(id);
       if(e.style.display == 'block')
          e.style.display = 'none';
       else
          e.style.display = 'block';
    }

</script> 

<script type="text/javascript">

var aarticles = [
["https://api.breakingnews.com/api/v1/item/?format=rss","Breaking News","news"],
["http://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml","New York Times","news"],
["http://lens.blogs.nytimes.com/feed/","New York Times - Lens","news"],
["http://www.wsj.com/xml/rss/3_7085.xml","Wall Street Journal","markets"],
["http://www.ft.com/rss/home/us","Financial Times","markets"],
["http://www.ft.com/rss/lex","Financial Times - Lex","markets"],
["http://rss.lemonde.fr/c/205/f/3050/index.rss","Le Monde","news"],
["http://piketty.blog.lemonde.fr/feed/","Thomas Piketty's blog","news"],
["http://www.laviedesidees.fr/spip.php?page=backend","La vie des idees","periodics"],
["http://www.latimes.com/rss2.0.xml","Los Angeles Times","news"],
["http://www.theage.com.au/rssheadlines/top.xml","The Age","periodics"],
["http://feeds.reuters.com/ReutersPictures","Reuters Pictures","news"],
["http://longform.org/feed.rss","Long Form","periodics"],
["http://feeds.feedburner.com/TheAtlantic","The Atlantic","periodics"],
["http://fusion.net/feed/","Fusion","science"],
["http://www.newyorker.com/feed/everything","The New Yorker","periodics"],
["http://feeds.feedburner.com/nybooks","The New York review of Books","bookreviews"],
["http://cdn.lrb.co.uk/feeds/lrb","The London review of Books","bookreviews"],
["http://feeds2.feedburner.com/PhilosophicalReviews/News","Philosophical Reviews","bookreviews"],
["http://harpers.org/feed/","Harpers Magazine","periodics"],
["http://feeds.feedburner.com/motherjones/BlogsAndArticles","Mother Jones","blogs"],
["https://www.quantamagazine.org/feed/","Quanta Magazine","science"],
["http://www.symmetrymagazine.org/feed","Symmetry Magazine","science"],
["https://www.edge.org/feed","Edge Magazine","periodics"],
["http://export.arxiv.org/rss/q-fin","ArXiv","news"],
["http://www.bloombergview.com/rss/contributors/matt-levine.rss","Bloomberg - Matt Levine","markets"],
["http://www.bloombergview.com/rss/contributors/the-editors.rss","Bloomberg - The Editors","markets"],
["https://www.project-syndicate.org/rss","Project Syndicate","news"],
["http://feeds.benzinga.com/benzinga/news","Benziga","markets"],
["https://googleblog.blogspot.ch/feeds/posts/default?alt=rss","Google Blog","blogs"],
["http://www.gatesnotes.com/rss","Gates notes","blogs"]
]

var a = aarticles;
var alinks = aarticles.map(function(value,index) { return value[0]; });

google.load("feeds", "1");
function create(htmlStr)
{
var frag = document.createDocumentFragment(),
temp = document.createElement('div');
temp.innerHTML = htmlStr;
while (temp.firstChild) 
	{
        frag.appendChild(temp.firstChild);
    	}
return frag;
}
function initialize() 
{
var maintitle = 0
var idsection = 0
for (var z in a) {
	
	var rssadress = a[z][0]
	var feed = new google.feeds.Feed(rssadress);
	feed.setNumEntries(15);
	feed.load(function(result) 
	{
	if (!result.error) 
        {
		var container = document.getElementById("feed");
			maintitle = 0
			divdest = a[alinks.indexOf(result.feed.feedUrl)][2]
			document.getElementById(divdest).innerHTML+= '<b><a href="#' + idsection + '" onclick="toggle_visibility(' + idsection + ');">' + '&#9868; ' + a[alinks.indexOf(result.feed.feedUrl)][1] + '</a></b><br>'
			document.getElementById(divdest).innerHTML+= '<div id="' + idsection + '" style="display: none">'
			idsection += 1
			for (var i = 0; i < result.feed.entries.length; i++) 
				{
				var entry = result.feed.entries[i];
				if(maintitle == 0)
					{
					document.getElementById('subh-'+divdest).innerHTML+= ' &#9734; <a href="'+entry.link+'">'+ entry.title+ '</a>'
					maintitle = 1
					}
				document.getElementById(idsection-1).innerHTML+= '<a href="'+entry.link+'"> &#9900; '+entry.title+' </a><i><font color="grey">'+entry.contentSnippet+'</font></i><br>'
				}
			document.getElementById(idsection-1).innerHTML+= ''
		}
	}
)}
;
}
google.setOnLoadCallback(initialize);
</script>
</head>
<body>

  
  	<div id="subh-news"><b><a href="#news" onclick="toggle_visibility('news');">&#9776; NEWSPAPERS </a></b></div>
	<div id="news" style="display: none"></div>
	
	<div id="subh-markets"><br><b><a href="#markets" onclick="toggle_visibility('markets');">&#9776; MARKETS </a></b></div>
	<div id="markets" style="display: none"></div>
	
	<div id="subh-periodics"><br><b><a href="#periodics" onclick="toggle_visibility('periodics');">&#9776; MAGAZINES </a></b></div>
	<div id="periodics" style="display: none"></div>
	
	<div id="subh-bookreviews"><br><b><a href="#bookreviews" onclick="toggle_visibility('bookreviews');">&#9776; BOOKS </a></b></div>
	<div id="bookreviews" style="display: none"></div>
	
	<div id="subh-science"><br><b><a href="#science" onclick="toggle_visibility('science');">&#9776; SCIENCE </a></b></div>
	<div id="science" style="display: none"></div>
	
	<div id="subh-blogs"><br><b><a href="#blogs" onclick="toggle_visibility('blogs');">&#9776; BLOGS </a></b></div>
	<div id="blogs" style="display: none"></div>


</body>
</html>
