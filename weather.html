<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Weather</title>
    <link href="data:image/x-icon;base64,AAABAAEAEBACAAAAAACwAAAAFgAAACgAAAAQAAAAIAAAAAEAAQAAAAAAQAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAACQAAAAAAAAAAAAADwDwAA+B8AAPw/AADsNwAAzDMAAMQjAADkJwAA4AcAAPAPAAD4HwAA8A8AAPAPAADwDwAA8A8AAPAPAADwDwAA" rel="icon" type="image/x-icon" />
    <style>
        body {
            font-family: Roboto, sans-serif;
            display: flex;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        #accordion-container {
			display: flex;
			flex-direction: column; /* Align items vertically */
			align-items: flex-start; /* Align items to the start */
			background-color: #f4f4f4;
					border-right: 1px solid #ccc;
		}

		#accordion-toggle {
			cursor: pointer;
			font-size: 24px; /* Adjust size for visibility */
			padding: 8px; /* Space around the icon */
		}

		#accordion {
			width: 400px; /* Full width when expanded */
			max-width: calc(100vw - 10px);
			background-color: #f4f4f4;
			
			overflow-y: auto;
			padding: 5px; /* Reduced padding */
			transition: width 0.3s ease, padding 0.3s ease; /* Smooth transition for width */
			display: block; /* Initially visible */
		}

		#accordion.collapsed {
			width: 0px; /* Narrow width when collapsed */
			padding: 0; /* Remove padding when collapsed */
			overflow: hidden; /* Prevent overflow */
			background-color: #eee; /* Background color when collapsed */
		}

		.accordion-section {
			margin: 5px 0; /* Reduced margin */
		}

		.accordion-section h3 {
			cursor: pointer;
			margin: 0;
			padding: 8px;
			background-color: #eee;
			border: 1px solid #ddd;
			border-radius: 4px;
			font-size: 14px; /* Smaller text */
		}

		.accordion-content {
			display: none;
			margin: 0;
			padding: 0;
			border-top: 1px solid #ddd;
		}

		.accordion-content div {
			padding: 5px 8px; /* Smaller padding */
			cursor: pointer;
			border-bottom: 1px solid #ddd;
			font-size: 12px; /* Smaller text */
		}

		.accordion-content div:hover {
			background-color: #ddd;
		}

		#home-button {
			font-size: 14px; /* Font size for the button */
			cursor: pointer;
			padding: 8px; /* Space around the button */
			background-color: #eee;
			color: white; /* Text color */
			border: 1px solid #ddd;
			border-radius: 4px;
			margin-top: 5px; /* Space above the button */
			margin-left: 5px; /* Left margin */
			margin-right: 5px; /* Right margin */
			width: calc(100% - 10px);
		}

        #articles-container {
            flex: 1;
            padding: 20px;
        }

        #search-container {
            margin-bottom: 20px;
        }

        #search-box {
            width: calc(100% - 110px);
            padding: 5px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #search-button {
            width: 100px;
            padding: 5px;
            font-size: 14px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        #search-button:hover {
            background-color: #005bb5;
        }

        .article {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .article-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .article-authors, .article-date, .article-summary {
            margin-bottom: 10px;
        }

        .article-link a {
            color: #0066cc;
            text-decoration: none;
        }

        .article-link a:hover {
            text-decoration: underline;
        }

        #pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
			
        }

        #pagination a {
            margin: 0 3px; /* Smaller margins */
            text-decoration: none;
            color: #0066cc;
            font-size: 14px; /* Smaller text */
        }

        #pagination a.disabled {
            color: #ccc;
            pointer-events: none;
        }

        #pagination span {
            margin: 0 5px;
            font-size: 14px; /* Smaller text */
        }
		


    </style>
</head>
<body>
    <div id="accordion-container">
		<div id="accordion-toggle" onclick="if (!window.__cfRLUnblockHandlers) return false; toggleAccordion()" data-cf-modified-b90e7730b16c8767006ffb56-="">&#9776;</div> 
		<button id="home-button" onclick="if (!window.__cfRLUnblockHandlers) return false; location.reload()" data-cf-modified-b90e7730b16c8767006ffb56-="">&#127968;</button>
		<div id="accordion"></div>
	</div>
    <div id="articles-container">
        
		<h1 id="header-title">arXiv - Explorer</h1>
        <br>
        <!-- Search Box -->
        <div id="search-container">
            <input type="text" id="search-box" placeholder="Search articles...">
			<br><br>
            <button id="search-button">Search</button>
        </div>
        <br>
        <div id="pagination"></div>
        <br>
        <div id="articles"></div>
        <br>
    </div>
    <script type="b90e7730b16c8767006ffb56-text/javascript">
        
		const toggleAccordion = () => {
			const accordion = document.getElementById('accordion');
			accordion.classList.toggle('collapsed'); // Toggle the 'collapsed' class
		};
		
		document.addEventListener('DOMContentLoaded', () => {
           
			const accordion = document.getElementById('accordion');
            const articlesDiv = document.getElementById('articles');
            const paginationDiv = document.getElementById('pagination');
            const headerTitle = document.getElementById('header-title');
            const searchBox = document.getElementById('search-box');
            const searchButton = document.getElementById('search-button');

            let allArticles = [];
            let currentPage = 1;
            const articlesPerPage = 5;
            let totalArticles = 0;
            let totalPages = 0;
            let currentCategory = '';  // Track the selected category
            let searchResults = [];
			
			let isPaginationVisible = false;
			
            const taxonomy = {
                'Computer Science': [
                    'cs.AI (Artificial Intelligence)',
                    'cs.AR (Hardware Architecture)',
                    'cs.CC (Computational Complexity)',
                    'cs.CE (Computational Engineering, Finance, and Science)',
                    'cs.CG (Computational Geometry)',
                    'cs.CL (Computation and Language)',
                    'cs.CR (Cryptography and Security)',
                    'cs.CV (Computer Vision and Pattern Recognition)',
                    'cs.CY (Computers and Society)',
                    'cs.DB (Databases)',
                    'cs.DC (Distributed, Parallel, and Cluster Computing)',
                    'cs.DL (Digital Libraries)',
                    'cs.DM (Discrete Mathematics)',
                    'cs.DS (Data Structures and Algorithms)',
                    'cs.ET (Emerging Technologies)',
                    'cs.FL (Formal Languages and Automata Theory)',
                    'cs.GL (General Literature)',
                    'cs.GR (Graphics)',
                    'cs.GT (Computer Science and Game Theory)',
                    'cs.HC (Human-Computer Interaction)',
                    'cs.IR (Information Retrieval)',
                    'cs.IT (Information Theory)',
                    'cs.LG (Machine Learning)',
                    'cs.LO (Logic in Computer Science)',
                    'cs.MA (Multiagent Systems)',
                    'cs.MM (Multimedia)',
                    'cs.MS (Mathematical Software)',
                    'cs.NA (Numerical Analysis)',
                    'cs.NE (Neural and Evolutionary Computing)',
                    'cs.NI (Networking and Internet Architecture)',
                    'cs.OH (Other Computer Science)',
                    'cs.OS (Operating Systems)',
                    'cs.PF (Performance)',
                    'cs.PL (Programming Languages)',
                    'cs.RO (Robotics)',
                    'cs.SC (Symbolic Computation)',
                    'cs.SD (Sound)',
                    'cs.SE (Software Engineering)',
                    'cs.SI (Social and Information Networks)',
                    'cs.SY (Systems and Control)'
                ],
                'Economics': [
                    'econ.EM (Econometrics)',
                    'econ.GN (General Economics)',
                    'econ.TH (Theoretical Economics)'
                ],
                'Electrical Engineering and Systems Science': [
                    'eess.AS (Audio and Speech Processing)',
                    'eess.IV (Image and Video Processing)',
                    'eess.SP (Signal Processing)',
                    'eess.SY (Systems and Control)'
                ],
                'Mathematics': [
                    'math.AC (Algebraic Geometry)',
                    'math.AG (Algebraic Geometry)',
                    'math.CA (Commutative Algebra)',
                    'math.CO (Combinatorics)',
                    'math.DG (Differential Geometry)',
                    'math.DS (Dynamical Systems)',
                    'math.FA (Functional Analysis)',
                    'math.GM (General Mathematics)',
                    'math.GR (Graph Theory)',
                    'math.KT (K-Theory)',
                    'math.LO (Logic)',
                    'math.MG (Mathematical Physics)',
                    'math.NA (Numerical Analysis)',
                    'math.NT (Number Theory)',
                    'math.PR (Probability)',
                    'math.RA (Rings and Algebras)',
                    'math.RT (Representation Theory)',
                    'math.SG (Spectral Theory)',
                    'math.ST (Statistics Theory)',
                    'math.TA (Tropical Algebra)'
                ],
                'Physics': [
                    'astro-ph.CO (Cosmology and Nongalactic Astrophysics)',
                    'astro-ph.EP (Earth and Planetary Astrophysics)',
                    'astro-ph.GA (Astrophysics of Galaxies)',
                    'astro-ph.HE (High Energy Astrophysical Phenomena)',
                    'astro-ph.IM (Instrumentation and Methods for Astrophysics)',
                    'astro-ph.SR (Solar and Stellar Astrophysics)',
                    'cond-mat.dis-nn (Disordered Systems and Neural Networks)',
                    'cond-mat.mes-hall (Mesoscale and Nanoscale Physics)',
                    'cond-mat.mtrl-sci (Materials Science)',
                    'cond-mat.other (Other Condensed Matter)',
                    'cond-mat.quant-gas (Quantum Gases)',
                    'cond-mat.soft (Soft Condensed Matter)',
                    'cond-mat.stat-mech (Statistical Mechanics)',
                    'cond-mat.str-el (Strongly Correlated Electrons)',
                    'cond-mat.supr-con (Superconductivity)',
                    'gr-qc (General Relativity and Quantum Cosmology)',
                    'hep-ex (High Energy Physics - Experiment)',
                    'hep-lat (High Energy Physics - Lattice)',
                    'hep-ph (High Energy Physics - Phenomenology)',
                    'hep-th (High Energy Physics - Theory)',
                    'math-ph (Mathematical Physics)',
                    'nlin.AO (Adaptation and Self-Organizing Systems)',
                    'nlin.CD (Chaotic Dynamics)',
                    'nlin.CG (Cellular Automata and Lattice Gases)',
                    'nlin.PS (Pattern Formation and Solitons)',
                    'nlin.SI (Exactly Solvable and Integrable Systems)',
                    'nucl-ex (Nuclear Experiment)',
                    'nucl-th (Nuclear Theory)',
                    'physics.acc-ph (Accelerator Physics)',
                    'physics.ao-ph (Atmospheric and Oceanic Physics)',
                    'physics.app-ph (Applied Physics)',
                    'physics.atm-clus (Atomic and Molecular Clusters)',
                    'physics.atom-ph (Atomic Physics)',
                    'physics.bio-ph (Biological Physics)',
                    'physics.chem-ph (Chemical Physics)',
                    'physics.class-ph (Classical Physics)',
                    'physics.comp-ph (Computational Physics)',
                    'physics.data-an (Data Analysis, Statistics and Probability)',
                    'physics.ed-ph (Physics Education)',
                    'physics.flu-dyn (Fluid Dynamics)',
                    'physics.gen-ph (General Physics)',
                    'physics.geo-ph (Geophysics)',
                    'physics.hist-ph (History and Philosophy of Physics)',
                    'physics.ins-det (Instrumentation and Detectors)',
                    'physics.med-ph (Medical Physics)',
                    'physics.optics (Optics)',
                    'physics.plasm-ph (Plasma Physics)',
                    'physics.pop-ph (Popular Physics)',
                    'physics.soc-ph (Physics and Society)',
                    'physics.space-ph (Space Physics)',
                    'quant-ph (Quantum Physics)'
                ],
                'Quantitative Biology': [
                    'q-bio.BM (Biomolecules)',
                    'q-bio.CB (Cell Behavior)',
                    'q-bio.GN (Genomics)',
                    'q-bio.MN (Molecular Networks)',
                    'q-bio.NC (Neurons and Cognition)',
                    'q-bio.OT (Other Quantitative Biology)',
                    'q-bio.PE (Populations and Evolution)',
                    'q-bio.QM (Quantitative Methods)',
                    'q-bio.SC (Subcellular Processes)',
                    'q-bio.TO (Tissues and Organs)'
                ],
                'Quantitative Finance': [
                    'q-fin.CP (Computational Finance)',
                    'q-fin.EC (Economics)',
                    'q-fin.GN (General Finance)',
                    'q-fin.MF (Mathematical Finance)',
                    'q-fin.PM (Portfolio Management)',
                    'q-fin.PR (Pricing of Securities)',
                    'q-fin.RM (Risk Management)',
                    'q-fin.ST (Statistical Finance)',
                    'q-fin.TR (Trading and Market Microstructure)'
                ],
                'Statistics': [
                    'stat.AP (Applications)',
                    'stat.CO (Computation)',
                    'stat.ME (Methodology)',
                    'stat.ML (Machine Learning)',
                    'stat.OT (Other Statistics)',
                    'stat.TH (Statistics Theory)'
                ]
            };

            const fetchArticles = async (category = '') => {
                const url = `https://export.arxiv.org/api/query?search_query=${category}&sortBy=lastUpdatedDate&sortOrder=descending&start=0&max_results=100`;
                const response = await fetch(url);
                const text = await response.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, "text/xml");
                const entries = xml.querySelectorAll('entry');

                allArticles = Array.from(entries).map(entry => ({
                    title: entry.querySelector('title').textContent,
                    authors: Array.from(entry.querySelectorAll('author name')).map(name => name.textContent),
                    published: formatDate(entry.querySelector('published').textContent.split('T')[0]),
                    updated: formatDate(entry.querySelector('updated').textContent.split('T')[0]),
                    link: entry.querySelector('id').textContent.replace('/abs/', '/pdf/'),
                    summary: entry.querySelector('summary') ? entry.querySelector('summary').textContent : 'No summary available',
                }));

                totalArticles = allArticles.length;
                totalPages = Math.ceil(totalArticles / articlesPerPage);
                isPaginationVisible = true; 
				updateArticles(); 
            };

            const fetchSearchResults = async (query) => {
				const categoryQuery = currentCategory ? `cat:${currentCategory} AND ` : '';
				const url = `https://export.arxiv.org/api/query?search_query=${encodeURIComponent(categoryQuery + query)}&sortBy=lastUpdatedDate&sortOrder=descending&start=0&max_results=100`;
				const response = await fetch(url);
				const text = await response.text();
				const parser = new DOMParser();
				const xml = parser.parseFromString(text, "text/xml");
				const errorNode = xml.querySelector('parsererror');
				if (errorNode) {
					console.error("Error parsing XML:", errorNode.textContent);
					return; 
				}
				const entries = xml.querySelectorAll('entry');
				if (entries.length === 0) {
					return; 
				}
				searchResults = Array.from(entries).map(entry => ({
					title: entry.querySelector('title').textContent,
					authors: Array.from(entry.querySelectorAll('author name')).map(name => name.textContent),
					published: formatDate(entry.querySelector('published').textContent.split('T')[0]),
					updated: formatDate(entry.querySelector('updated').textContent.split('T')[0]),
					link: entry.querySelector('id').textContent.replace('/abs/', '/pdf/'),
					summary: entry.querySelector('summary') ? entry.querySelector('summary').textContent : 'No summary available',
				}));
				totalArticles = searchResults.length; 
				totalPages = Math.ceil(totalArticles / articlesPerPage); 
				currentPage = 1; 
				isPaginationVisible = true; 
				updateArticles(true); 
			};

            const formatDate = (dateStr) => {
                const [year, month, day] = dateStr.split('-');
                const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                return `${parseInt(day)}-${months[parseInt(month) - 1]}-${year}`;
            };

            const updateArticles = (isSearchResults = false) => {
				const articles = isSearchResults ? searchResults : allArticles;
				const start = (currentPage - 1) * articlesPerPage; 
				const end = start + articlesPerPage; 
				const paginatedArticles = articles.slice(start, end); 

				articlesDiv.innerHTML = paginatedArticles.map(article => `
					<div class="article">
						<div class="article-title">${article.title}</div>
						<div class="article-authors">Authors: <span style="color: green;">${article.authors.join(', ')}</span></div>
						<div class="article-date">Published: <span style="color: black;">${article.published}</span> | Updated: <span style="color: black; font-weight: bold;">${article.updated}</span></div>
						<div class="article-summary"><strong>Summary:</strong> ${article.summary}</div>
						<div class="article-link"><a href="${article.link}" target="_blank">Read Full Text</a></div>
					</div>
				`).join(''); // Join the articles into a single HTML string

				updatePagination(); // Update the pagination controls
			};


            const updatePagination = () => {
                if (!isPaginationVisible) {
					paginationDiv.innerHTML = ''; 
					return;
				}
				paginationDiv.innerHTML = `
                    <a href="#" class="${currentPage === 1 ? 'disabled' : ''}" onclick="changePage(1); return false;">First</a>
                    <a href="#" class="${currentPage === 1 ? 'disabled' : ''}" onclick="changePage(${currentPage - 1}); return false;">Previous</a>
                    <span>Page ${currentPage} of ${totalPages}</span>
                    <a href="#" class="${currentPage === totalPages ? 'disabled' : ''}" onclick="changePage(${currentPage + 1}); return false;">Next</a>
                    <a href="#" class="${currentPage === totalPages ? 'disabled' : ''}" onclick="changePage(${totalPages}); return false;">Last</a>
                `;
            };

            window.changePage = (page) => {
                if (page < 1 || page > totalPages) return;
                currentPage = page;
                fetchArticles(currentCategory);
				
            };

            const populateTaxonomy = () => {
                Object.keys(taxonomy).forEach(sectionName => {
                    const section = document.createElement('div');
                    section.className = 'accordion-section';

                    const sectionHeader = document.createElement('h3');
                    sectionHeader.textContent = sectionName;
                    section.appendChild(sectionHeader);

                    const content = document.createElement('div');
                    content.className = 'accordion-content';

                    taxonomy[sectionName].forEach(subcategory => {
                        const subcategoryDiv = document.createElement('div');
                        subcategoryDiv.textContent = subcategory.split(' (')[1].replace(')', ''); 
                        subcategoryDiv.onclick = () => {
                            headerTitle.textContent = `arXiv - ${subcategory.split(' (')[1].replace(')', '')}`;
                            articlesDiv.innerHTML = 'Loading..'; // Clear previous articles
                            currentPage = 1; // Reset to page 1
                            currentCategory = subcategory.split(' (')[1].replace(')', ''); // Update current category
                            fetchArticles(currentCategory);
                        };
                        content.appendChild(subcategoryDiv);
                    });

                    section.appendChild(content);
                    accordion.appendChild(section);

                    sectionHeader.addEventListener('click', () => {
                        const isVisible = content.style.display === 'block';
                        document.querySelectorAll('.accordion-content').forEach(c => c.style.display = 'none');
                        content.style.display = isVisible ? 'none' : 'block';
                    });
                });
            };

            searchButton.onclick = () => {
                

				
				const query = searchBox.value.trim();
                if (query) {
                    if (currentCategory) {
                        headerTitle.textContent = `Search Results for "${query}" in ${currentCategory}`;
                    } else {
                        headerTitle.textContent = `Search Results for "${query}"`;
                    }
                    fetchSearchResults(query);
                }
            };

            populateTaxonomy();
			toggleAccordion();
            
        });
    </script>
<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="b90e7730b16c8767006ffb56-|49" defer></script></body>
</html>

    <style>
        body {font-family: Roboto, sans-serif;}
	.feed {align-items: center;margin: 10px; border: 0.1em solid #d9d9d9;border-radius: 0.5em}
	@media only screen and (min-width: 720px) {  .feed {    width: 700px; }}
	@media only screen and (min-width: 320px) and (max-width: 699px) {  .feed {    width: 95vw;  }}
	@media only screen and (max-width: 319px) {  .feed {    width: 95vw;  }}
	.container {display: flex; flex-wrap: wrap; gap: 10px; }	
	canvas {width: 100%;height: 50%;max-width: 700px;max-height: 400px;}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2"></script>
</head>
<body>
    <center>
		<div class="feed">
			<h3>Weather in <span id="locationName"></span></h3>
			<div class="container">
				<canvas id="weatherChart"></canvas>
				<canvas id="windUvChart"></canvas>
			<br>
			</div>
		</div>
	</center>

	<script>
		async function fetchWeatherData() {
			return new Promise((resolve, reject) => {
				navigator.geolocation.getCurrentPosition(async (position) => {
					const { latitude, longitude } = position.coords;
					const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&hourly=temperature_2m,precipitation,windspeed_10m,uv_index`);
					const data = await response.json();
					const locationResponse = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json&addressdetails=1`);
					const locationData = await locationResponse.json();
					const locationName = locationData.address.city || locationData.address.town || locationData.address.village || 'Your Location';
					document.getElementById('locationName').innerText = locationName;
					resolve(data.hourly);
				}, reject);
			});
		}

		function createAnnotations(labels, chartHeight) {
			const annotations = [];
			const currentDateTime = new Date();
			let lastDate = null;

			labels.forEach(label => {
				const date = label.getDate();
				if (lastDate !== null && date !== lastDate) {
					annotations.push({
						type: 'line',
						mode: 'vertical',
						scaleID: 'x',
						value: label,
						borderColor: 'rgba(150, 166, 255, 0.95)',
						borderWidth: 1
					});
				}
				lastDate = date;
			});

			const dynamicYAdjust = -chartHeight / 2 - 0; 

			annotations.push({
				type: 'line',
				mode: 'vertical',
				scaleID: 'x',
				value: currentDateTime,
				borderColor: 'rgba(50, 81, 252, 0.8)',
				borderWidth: 1,
				label: {
					enabled: true,
					content: 'Now',
					position: 'center',
					backgroundColor: 'rgba(50, 81, 252, 0.95)',
					yAdjust: dynamicYAdjust,
					font: {
						size: 10 
					}
				}
			});

			return annotations;
		}

		function createTemperaturePrecipitationChart(ctx, labels, temperatureData, precipitationData) {
			const chart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: labels,
					datasets: [
						{
							type: 'line',
							label: 'Temperature (°C)',
							color: 'black',
							data: temperatureData,
							borderColor: 'black',
							backgroundColor: 'black',
							borderWidth: 1,
							pointRadius: 0,  
							yAxisID: 'y1',
							fill: false
						},
						{
							type: 'bar',
							label: 'Precipitation (mm)',
							color: 'black',
							data: precipitationData,
							backgroundColor: 'rgba(54, 162, 235, 0.6)',
							yAxisID: 'y2'
						}
					]
				},
				options: {
					responsive: true,
					scales: {
						x: {
							type: 'time',
							time: {
								displayFormats: {
									hour: "MMM d, HH'h'"
								}
							},
							grid: {
								display: false 
							}
						},
						y1: {
							type: 'linear',
							position: 'left',
							beginAtZero: true,
							title: {
								display: true,
								text: 'Temperature (°C)',
								color: 'black'
							}
						},
						y2: {
							type: 'linear',
							position: 'right',
							beginAtZero: true,
							title: {
								display: true,
								text: 'Precipitation (mm)',
								color: 'black'
							},
							grid: {
								drawOnChartArea: false
							}
						}
					},
					plugins: {
						title: {
							display: true, 
							text: 'Temperature (line), Precipitations (bars)',
							color: 'black'
						},
						legend: {
							display: false 
						},
						annotation: {
							annotations: []
						}
					}
				},
				plugins: [{
					id: 'dynamicAnnotation',
					afterDraw: (chart) => {
						const chartHeight = chart.chartArea.bottom - chart.chartArea.top;
						chart.options.plugins.annotation.annotations = createAnnotations(labels, chartHeight);
						chart.update();
					}
				}]
			});
		}

		function createWindUvChart(ctx, labels, windSpeedData, uvIndexData) {
			const chart = new Chart(ctx, {
				type: 'line',
				data: {
					labels: labels,
					datasets: [
						{
							label: 'Wind Speed (10 m) (km/h)',
							color: 'black',
							data: windSpeedData,
							borderColor: 'green',
							backgroundColor: 'green',
							pointRadius: 0,  
							borderWidth: 1,
							yAxisID: 'y1',
							fill: false
						},
						{
							label: 'UV Index',
							color: 'black',
							data: uvIndexData,
							borderColor: 'orange',
							backgroundColor: 'orange',
							pointRadius: 0,  
							borderWidth: 1,
							yAxisID: 'y2',
							fill: false
						}
					]
				},
				options: {
					responsive: true,
					scales: {
						x: {
							type: 'time',
							time: {
								displayFormats: {
									hour: "MMM d, HH'h'"
								}
							},
							grid: {
								display: false 
							}
						},
						y1: {
							type: 'linear',
							position: 'left',
							beginAtZero: true,
							title: {
								display: true,
								text: 'Wind Speed (km/h)',
								color: 'black'
							}
						},
						y2: {
							type: 'linear',
							position: 'right',
							beginAtZero: true,
							title: {
								display: true,
								text: 'UV Index',
								color: 'black'
							},
							grid: {
								drawOnChartArea: false
							}
						}
					},
					plugins: {
						title: {
							display: true, 
							text: 'Wind Speed (green), UV Index (yellow)',
							color: 'black'
						},
						legend: {
							display: false 
						},
						annotation: {
							annotations: []
						}
					}
				},
				plugins: [{
					id: 'dynamicAnnotation',
					afterDraw: (chart) => {
						const chartHeight = chart.chartArea.bottom - chart.chartArea.top;
						chart.options.plugins.annotation.annotations = createAnnotations(labels, chartHeight);
						chart.update();
					}
				}]
			});
		}

		async function renderCharts() {
			const hourlyData = await fetchWeatherData();

			const labels = hourlyData.time.map(time => new Date(time));
			const temperatureData = hourlyData.temperature_2m;
			const precipitationData = hourlyData.precipitation;
			const windSpeedData = hourlyData.windspeed_10m;
			const uvIndexData = hourlyData.uv_index;

			const ctx1 = document.getElementById('weatherChart').getContext('2d');
			const ctx2 = document.getElementById('windUvChart').getContext('2d');

			createTemperaturePrecipitationChart(ctx1, labels, temperatureData, precipitationData);
			createWindUvChart(ctx2, labels, windSpeedData, uvIndexData);
		}

		renderCharts();
	</script>

</body>
</html>
